<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Canvas</title>

    </head>
    <body>
        <canvas id="myCanvas">
            
        </canvas>
        <p id="myHash" style="text-align: center;"></p>
    </body>
    <script>
        //document can not ready before loaded, script need to pass to the end
        //https://www.w3schools.com/jsref/met_document_queryselector.asp
        //
        //https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics
        //
        const canvas = document.querySelector('#myCanvas');
        const width = canvas.width = window.innerWidth;
        const height = canvas.height = window.innerHeight-100;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = 'rgb(0,0,0)';
        ctx.fillRect(0,0,width,height);
        //https://html.spec.whatwg.org/multipage//canvas.html#2dcontext
        src = canvas.toDataURL();
        console.log(src);
        hash = 0;
        for (i = 0; i < src.length; i++) {
	        char = src.charCodeAt(i);
	        hash = ((hash<<5)-hash)+char;
	        hash = hash & hash;
        }
        const label = document.querySelector('#myHash');
        label.innerHTML=hash;
    </script>
</html>